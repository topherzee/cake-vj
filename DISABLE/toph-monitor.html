<html>
  <head>
    <!-- <script src="https://virtualmixproject.com/javascripts/build/vendor-min.js"></script>
    <script src="https://virtualmixproject.com/javascripts/build/mixer-min.js"></script>   -->
    <script src="/javascripts/build/vendor.js"></script>
    <script src="/javascripts/build/mixer.js"></script> 
    <script src="/live.js"></script> 
  </head>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden; 
    }

    #glcanvas {
      /* width: 100px;
      height: 100px; */
      position: absolute;
      left: 0;
      top: 100px;

    }

    #monitoring_canvas {
      /* width: 100px;
      height: 100px; */
      position: absolute;
      left: 0;
      top: 400px;

    } 
  </style>
  <body>

    <!-- the only real html element you need -->
    <canvas id="glcanvas" ></canvas>    
    <canvas id="monitoring_canvas" ></canvas>    
    
    <script>

      // create the main renderer
var renderer = new GlRenderer({element: 'glcanvas'});

// sources
// var source1 = new VideoSource(renderer, { src: "/video/placeholder.mp4" })
// var source2 = new VideoSource(renderer, { src: "/video/16MMDUSTproc.mp4" })

var source1 = new SolidSource( renderer, { color: { r: 1.0, g: 0.0, b: 0.0 } } );
var source2 = new SolidSource( renderer, { color: { r: 1.0, g: 1.0, b: 0.0 } } );

// mixer
var mixer1 = new Mixer( renderer, { source1: source1, source2: source2 });


// add some effects
// var contrast = new ColorEffect( renderer, { source: mixer1 } )
// var c_effect = new ColorEffect( renderer, { source: contrast } )

// final out
var output = new Output( renderer, source1 )

// preview out
var monitor = new Monitor( renderer, { source: source2, element: 'monitoring_canvas' })


// initialize the renderer and start the renderer
renderer.init();         // init
renderer.render();       // start update & animation




// c_effect.effect(14)
// contrast.effect(61)
// contrast.extra(0.4)



// // set up renderer and video
// var renderer = new GlRenderer({element: 'glcanvas'});

// var source1 = new VideoSource(renderer, {
//   src: "/video/DCVS01/DCVS01 grate 03 texture_0640.mp4",
// });
// var source2 = new VideoSource(renderer, {
//   src: "/video/DCVS01/DCVS01 container 02 scape_0640.mp4",
// });
// var source3 = new VideoSource(renderer, {
//   src: "/video/DCVS01/DCVS01 poles 01 pure_0640.mp4",
// });
// var source4 = new VideoSource(renderer, {
//   src: "/video/DCVS01/DCVS01 wires 03 shift_0640.mp4",
// });

// // mixer
// var mixer1 = new Mixer( renderer, { source1: source1, source2: source2 });

// // preview out
// var monitor = new Monitor( renderer, { source: mixer1, element: 'monitoring_canvas' })

// // add some effects
// var contrast = new ColorEffect( renderer, { source: mixer1 } )
// var c_effect = new ColorEffect( renderer, { source: contrast } )

// // final out
// var output = new Output( renderer, c_effect )

// // initialize the renderer and start the renderer
// renderer.init();         // init
// renderer.render();       // start update & animation

// c_effect.effect(14)
// contrast.effect(61)
// contrast.extra(0.4)
// // let myMixer = new Monitor( renderer, { source: node });


    </script>
  </body>
</html>
