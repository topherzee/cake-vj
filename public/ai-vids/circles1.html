<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js Animated Arcs</title>
    <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script type="x-shader/x-vertex" id="vertexShader">
        varying vec2 vUv;

        void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    </script>
    <script type="x-shader/x-fragment" id="fragmentShader">
        uniform float u_time;
        uniform float u_density;
        uniform float u_chaos;
        uniform float u_energy;
        uniform float u_colorfulness;

        varying vec2 vUv;

        #define PI 3.1415926535897932384626433832795

        float rand(vec2 co){
            return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);
        }

        float arc(vec2 uv, vec2 center, float radius, float thickness, float startAngle, float endAngle) {
            float angle = atan(uv.y - center.y, uv.x - center.x);
            float len = length(uv - center);
            float angleNorm = mod(angle / (2.0 * PI), 1.0);
            float arcStart = startAngle / (2.0 * PI);
            float arcEnd = endAngle / (2.0 * PI);
            float arcMask = smoothstep(arcStart, arcStart + 0.01, angleNorm) - smoothstep(arcEnd, arcEnd + 0.01, angleNorm);
            float ringMask = smoothstep(radius, radius + thickness, len) - smoothstep(radius + thickness, radius + thickness + 0.01, len);
            return arcMask * ringMask;
        }

        void main() {
            vec2 uv = vUv * 2.0 - 1.0;
            float time = u_time * u_energy;

            float arcCount = mix(5.0, 50.0, u_density);
            float chaosFactor = mix(0.0, 1.0, u_chaos);
            float colorFactor = mix(0.0, 1.0, u_colorfulness);

            vec3 color = vec3(0.0);

            for (float i = 0.0; i < arcCount; i++) {
                float ringRadius = mix(0.2, 0.8, rand(vec2(i, i)) + chaosFactor);
                float ringThickness = mix(0.01, 0.05, rand(vec2(i + 1.0, i + 1.0)) + chaosFactor);
                float startAngle = mod(time + rand(vec2(i + 2.0, i + 2.0)) * PI * 2.0, 2.0 * PI);
                float arcLength = mix(PI / 6.0, PI, rand(vec2(i + 3.0, i + 3.0)) + chaosFactor);

                float arcValue = arc(uv, vec2(0.0), ringRadius, ringThickness, startAngle, startAngle + arcLength);
                vec3 arcColor = mix(vec3(1.0), vec3(rand(vec2(i + 4.0, i + 4.0)), rand(vec2(i + 5.0, i + 5.0)), rand(vec2(i + 6.0, i + 6.0))), colorFactor);

                color += arcColor * arcValue;
            }

            gl_FragColor = vec4(color, 1.0);
        }
    </script>
    <script>
        // Create scene, camera, and renderer
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        camera.position.z = 5;

        const uniforms = {
            u_time: { value: 0.0 },
            u_density: { value: 0.5 },
            u_chaos: { value: 0.5 },
            u_energy: { value: 0.5 },
            u_colorfulness: { value: 0.5 }
        };

        const material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            vertexShader: document.getElementById('vertexShader').textContent,
            fragmentShader: document.getElementById('fragmentShader').textContent
        });

        const geometry = new THREE.PlaneGeometry(2, 2);
        const plane = new THREE.Mesh(geometry, material);
        scene.add(plane);

        function animate() {
            requestAnimationFrame(animate);
            uniforms.u_time.value += 0.05; // Update time
            renderer.render(scene, camera);
        }

        animate();
    </script>
</body>
</html>
